<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Canvas Text с Alpine.js</title>
  <script src="https://unpkg.com/alpinejs @3.x.x/dist/cdn.min.js" defer></script>
  <style>
    canvas {
      border: 1px solid #ccc;
      margin-top: 20px;
    }
  </style>
</head>
<body x-data="canvasApp">

  <h2>Введите текст:</h2>
  <div style="display: flex; flex-flow: column; width: 500px; gap: 10px;">
    <input type="text" x-model="text" @input="drawText()" placeholder="Введите текст здесь" />
    <input type="number" x-model.number="width" placeholder="Ширина в пикселях" />
    <input type="number" x-model.number="height" placeholder="Высота в пикселях" />
  </div>



  <br />

  <canvas id="myCanvas" :width="width" :height="height"></canvas>

  <script>
    document.addEventListener('alpine:init', () => {
      Alpine.data('canvasApp', () => ({
        text: '',
        width: 400,
        height: 400,
        init() {
        },
        drawText() {
          const canvas = document.getElementById('myCanvas');
          const ctx = canvas.getContext('2d');

          // Очистка canvas
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          // Настройки стиля
          ctx.fillStyle = 'black';
          ctx.font = '24px sans-serif';
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';

          // Отрисовка текста по центру
          ctx.fillText(this.text, canvas.width / 2, canvas.height / 2);
        }
      }));
    });
  </script>

</body>
</html>